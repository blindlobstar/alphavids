{{define "form"}}
<div>
    <form hx-encoding="multipart/form-data" hx-post="/transcode" hx-swap="outerHTML"
        hx-indicator="#processing_indicator" hx-disabled-elt="find input[type='file'], find button">
        <input required type="file" id="upload" name="upload" accept="video/webm"
            class="file-input file-input-bordered file-input-primary file-input-lg" />
        <div class="flex flex-row mt-5 gap-3">
            <button id="upload_btn" class="btn btn-lg btn-primary ">
                Convert
            </button>
            <div id="processing_indicator" class="htmx-indicator flex flex-row items-center">
                <span class="loading loading-spinner loading-lg mr-2"></span>
                <p>Processing...</p>
            </div>
        </div>
    </form>
    {{with .ErrorMessage}}
    <div role="alert" class="alert alert-error">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span>Error! {{.}}</span>
    </div>
    {{end}}
</div>
{{end}}